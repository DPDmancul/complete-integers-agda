\documentclass[a4paper]{report}
\usepackage[hidelinks]{hyperref}
\usepackage[links]{agda}
\usepackage{amsmath, amssymb, mathtools, amsthm, newunicodechar}

\theoremstyle{definition}
\newtheorem{definition}{Definition}

\newcommand\bN{\mathbb{N}}
\newunicodechar{‚Ñï}{\ensuremath{\mathbb{N}}}
\newcommand\bZ{\mathbb{Z}}
\newunicodechar{‚Ñ§}{\ensuremath{\mathbb{Z}}}
\newcommand\bF{\mathbb{F}}
\newunicodechar{ùîΩ}{\ensuremath{\mathbb{F}}}
\newunicodechar{‚ÇÇ}{\ensuremath{_2}}
\newunicodechar{‚äï}{\ensuremath{\oplus}}
\newunicodechar{‚¶É}{\ensuremath{\{\kern-0.6ex|}}
\newunicodechar{‚¶Ñ}{\ensuremath{|\kern-0.6ex\}}}
\newunicodechar{Œª}{\ensuremath{\lambda}}

\title{Complete integers}
\author{Davide Peressoni}
\date{May 2022}

\begin{document}

\maketitle

\begin{code}
-- (c) Davide Peressoni 2022

open import Int
open import F2
open import Utils.Equality
\end{code}

\chapter{Complete integer numbers}

\textbf{TODO} sistemare\\
In this chapter we will define the ring of complete integers ($\bZ_C$) and we will
see that it is a superset of $\bZ$. Then we will call the remaining dis-integers
($\bZ_D$) which are the dual of integers ($\bZ$) along parity (e.g. in $\bZ$ the unit is
odd, in $\bZ_D$ the unit is even).

\begin{definition}[Complete integers prime]
Let's define the set of the complete integer numbers prime as

\[\bZ_C' \coloneqq \bZ\times\bF_2\]

We will call the first component \emph{value}, and the second \emph{parity}.

\begin{code}
record ‚Ñ§C' : Set where
  constructor [_,_]
  field
    val : ‚Ñ§
    par : ùîΩ‚ÇÇ
\end{code}
\end{definition}

\begin{definition}[Ring $\bZ_C'$]
Let's define $\bZ_C'$ as a commutative ring with unit:

Given $[a,b], [c,d] \in \bZ_C'$

\[[a,b] + [c,d] \coloneqq [a+c, b\oplus d]\]

\begin{code}
instance
  open import Ops
  Sum‚Ñ§C' : Sum ‚Ñ§C'
  _+_ ‚¶É Sum‚Ñ§C' ‚¶Ñ [ a , b ] [ c , d ] = [ a + c , b ‚äï d ]
  additive-zero ‚¶É Sum‚Ñ§C' ‚¶Ñ = [ pos 0 , zero ]
  lemma-sum-zero ‚¶É Sum‚Ñ§C' ‚¶Ñ [ pos _    , par ] = cong (Œª n ‚Üí [ pos n , par ]) refl
  lemma-sum-zero ‚¶É Sum‚Ñ§C' ‚¶Ñ [ negsuc _ , par ] = cong (Œª n ‚Üí [ negsuc n , par ]) refl
\end{code}

\[[a,b] \cdot [c,d] \coloneqq [a\cdot c, b\cdot d]\]

\begin{code}
instance
  open import Ops
  open import Nat using (lemma-nat-plus-zero)
  Mul‚Ñ§C' : Mul ‚Ñ§C'
  _¬∑_ ‚¶É Mul‚Ñ§C' ‚¶Ñ [ a , b ] [ c , d ] = [ a ¬∑ c , b ¬∑ d ]
  unit ‚¶É Mul‚Ñ§C' ‚¶Ñ = [ pos 1 , one ]
  lemma-unit ‚¶É Mul‚Ñ§C' ‚¶Ñ [ pos n    , par ] = cong (Œª n ‚Üí [ pos n , par ]) (lemma-nat-plus-zero n)
  lemma-unit ‚¶É Mul‚Ñ§C' ‚¶Ñ [ negsuc n , par ] = cong (Œª n ‚Üí [ negsuc n , par ]) (lemma-nat-plus-zero n)
\end{code}
\end{definition}

\begin{proof}
  Now let's check if the given definition is valid:
  \begin{enumerate}
    \item Associative property of addition
      \begin{code}
-- associative-Sum‚Ñ§C' : (x y z : ‚Ñ§C') ‚Üí (x + y) + z ‚â° x + (y + z)
-- associative-Sum‚Ñ§C' = {!   !}
      \end{code}
  \end{enumerate}
\end{proof}

\end{document}

